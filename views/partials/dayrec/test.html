<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
    <title>DAYREC</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/lumen/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <!-- CSS Stylesheet -->
    <link href="../../../public/stylesheets/style.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@100&family=Maven+Pro:wght@800;900&family=Press+Start+2P&family=Roboto:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <!-- Welcome Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="container">
      <nav class="navbar navbar-expand-md navbar-dark text-light">
        <h3 class="logo">D</h3>
        <h3><a class="nav-brand" href="members.html">dayrec</a></h3>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="nav navbar-nav ml-auto text-light text-right">
            <a class="nav-link" href="about.html">ABOUT</a>
            <a class="nav-link" href="place-bet.html">PLACE BET</a>
            <a class="nav-link" href="bet-info.html">BET INFO</a>
            <a class="nav-link" href="/logout">LOGOUT</a>
          </div>
        </div>
      </nav>
      <div class="main-page-container container">
        <div class="row">
          <div class="col text-right">
            <span class="wallet"
              ><img
                src="https://lh3.googleusercontent.com/proxy/A1yTM5J9UovHJT6eDna5hB1Ft61sTbU0uVjvW9eGo5OXAaz97_40bBqR6RnNVjZ5aWN-ZiILHyyJT_-i4ato2h5L3ANo2YerBG-F6meJY0Hs-6wgMiHfnZbFfBmfZA"
              />
              Wallet</span
            >
          </div>
        </div>
        <div class="row">
          <div class="col text-left">
            <h1>WELCOME TO DAYREC <span class="member-name"></span></h1>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <h2 class="ranking">Class Rankings</h2>
          </div>
          <div class="container">
            <canvas id="myChart" width="400" height="200"></canvas>
          </div>
            <script>
              const xlabels ={{#each users}}
              {{/each}};
              //turn into a handlebar function that calls the max of the destry coins as your Y axis
              const ylabels = 100;

              chartIt()

              async function chartIt() {
                await getData();
                const ctx = document.getElementById("myChart").getContext("2d");
                const thisChart = new Chart(ctx, {
                type: "bar",
                data: {
                  labels: xlabels,
                  datasets: [
                    {
                      label: "Destry Coins",
                      //pulls the data for each user's level of destry coins
                      data: [{{#each destryCoins}}],
                      backgroundColor: [
                        "rgba(255, 99, 132, 0.2)",
                        "rgba(54, 162, 235, 0.2)",
                        "rgba(255, 206, 86, 0.2)",
                        "rgba(75, 192, 192, 0.2)",
                        "rgba(153, 102, 255, 0.2)",
                        "rgba(255, 159, 64, 0.2)",
                      ],
                      borderColor: [
                        "rgba(255, 99, 132, 1)",
                        "rgba(54, 162, 235, 1)",
                        "rgba(255, 206, 86, 1)",
                        "rgba(75, 192, 192, 1)",
                        "rgba(153, 102, 255, 1)",
                        "rgba(255, 159, 64, 1)",
                      ],
                      borderWidth: 1,
                    },
                  ],
                },

              });
            }
            </script>
          </div>
          <button type="submit" class="place-bet-button btn btn-default">
            PLACE BET
          </button>
        </div>
      </div>
      <div class="today-data">
        <div class="row">
          <div class="col-md-6 col-sm-12 text-center">
            <h2>Your Guess Today</h2>
          </div>
          <div class="col-md-6 col-sm-12 text-center">
            <h2>Actual Today</h2>
          </div>
        </div>
      </div>
      }
    </div>

    <footer
      class="footer-margin fixed-bottom card-footer bg-dark text-light text-center footer-position"
    >
      <a
        href="https://github.com/JodyBrzo/DAYREC"
        class="github"
        target="_blank"
        ><img
          src="https://www.sferalabs.cc/wp-content/uploads/github-logo-white.png"
          alt="Github Logo"
          id="github"
      /></a>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <script type="text/javascript" src="../../../public/js/members.js"></script> -->
  </body>
</html>
